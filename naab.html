<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NAAB Criteria</title>
  <link href="https://fonts.googleapis.com/css2?family=Orienta&display=swap" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="./filterState.js" defer></script>
  <style>
    body {
      font-family: 'Orienta', sans-serif;

      /* Mobile tap nicety; matches tasks.html */
      .tap {
        -webkit-tap-highlight-color: transparent;
        touch-action: manipulation;
      }
    }
  </style>
</head>

<body class="bg-gradient-to-b from-[#212121] to-[#0F0F0F] text-white min-h-screen pb-6">
  <!-- Top bar -->
  <header
    class="sticky top-0 z-50 bg-[#1B1B1A] backdrop-blur supports-[backdrop-filter]:bg-[#1B1B1A] border-b border-white/10 mb-6">
    <div class="max-w-4xl px-4 py-3 flex items-center justify-between">
      <div class="flex items-center gap-2">
        <button type="button" id="backBtn" aria-label="Go back"
          class="tap inline-flex items-center gap-2 rounded px-3 py-2 text-sm font-semibold bg-white text-slate-900 hover:bg-brandYellow focus:outline-none focus:ring-2 focus:ring-white/50">
          ← Back
        </button>

        <button type="button" id="restartBtn"
          class="tap inline-flex items-center gap-2 rounded px-3 py-2 text-sm font-semibold bg-white text-slate-900 hover:bg-brandYellow focus:outline-none focus:ring-2 focus:ring-white/50">
          Restart
        </button>
      </div>
    </div>
  </header>

  <div class="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-8 items-start">

    <!-- Left: Description -->
    <div class="lg:col-span-4 space-y-4">
      <h1 class="text-xl md:text-2xl font-bold tracking-wide mb-4 md:mb-6"><span data-role-label
          class="uppercase text-[#fedc4b]"></span>SELECT THE NAAB CRITERIA</span></h1>
      <p class="text-sm text-gray-400 leading-snug mb-6">
        The National Architectural Accrediting Board requires accredited programs to demonstrate specific criteria –
        grouped as two categories Program Criteria (PC) and Student Criteria (SC) – in their curriculum.
      </p>
    </div>

    <!-- Right: Criteria Grids -->
    <div class="lg:col-span-8 space-y-6">

      <!-- Program Criteria -->
      <section class="border border-solid border-[#5F5F5E] stroke-[0.125] bg-[#1B1B1A] p-4 space-y-3">
        <h2 class='text-sm text-gray-400 tracking-wide px-2 inline-block'>Program Criteria</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">
          <a href="#" data-filter data-key="NAAB" data-value="P1"
            class="flex items-center justify-center text-center bg-[#e5e7eb] text-slate-900 font-semibold rounded px-4 py-4 min-h-[90px] border border-black hover:bg-[#facc15] transition">CAREER
            PATHS</a>
          <a href="#" data-filter data-key="NAAB" data-value="P2"
            class="flex items-center justify-center text-center bg-[#e5e7eb] text-slate-900 font-semibold rounded px-4 py-4 min-h-[90px] border border-black hover:bg-[#facc15] transition">DESIGN</a>
          <a href="#" data-filter data-key="NAAB" data-value="P3"
            class="flex items-center justify-center text-center bg-[#e5e7eb] text-slate-900 font-semibold rounded px-4 py-4 min-h-[90px] border border-black hover:bg-[#facc15] transition">ECOLOGICAL
            KNOWLEDGE AND RESPONSIBILITY</a>
          <a href="#" data-filter data-key="NAAB" data-value="P4"
            class="flex items-center justify-center text-center bg-[#e5e7eb] text-slate-900 font-semibold rounded px-4 py-4 min-h-[90px] border border-black hover:bg-[#facc15] transition">HISTORY
            AND THEORY</a>
          <a href="#" data-filter data-key="NAAB" data-value="P5"
            class="flex items-center justify-center text-center bg-[#e5e7eb] text-slate-900 font-semibold rounded px-4 py-4 min-h-[90px] border border-black hover:bg-[#facc15] transition">RESEARCH
            AND INNOVATION</a>
          <a href="#" data-filter data-key="NAAB" data-value="P6"
            class="flex items-center justify-center text-center bg-[#e5e7eb] text-slate-900 font-semibold rounded px-4 py-4 min-h-[90px] border border-black hover:bg-[#facc15] transition">LEADERSHIP
            AND COLLABORATION</a>
          <a href="#" data-filter data-key="NAAB" data-value="P7"
            class="flex items-center justify-center text-center bg-[#e5e7eb] text-slate-900 font-semibold rounded px-4 py-4 min-h-[90px] border border-black hover:bg-[#facc15] transition">LEARNING
            AND TEACHING CULTURE</a>
          <a href="#" data-filter data-key="NAAB" data-value="P8"
            class="flex items-center justify-center text-center bg-[#e5e7eb] text-slate-900 font-semibold rounded px-4 py-4 min-h-[90px] border border-black hover:bg-[#facc15] transition">SOCIAL
            EQUITY AND INCLUSION</a>
        </div>
      </section>

      <!-- OR Divider  -->
      <div class="text-center text-sm text-gray-400 leading-snug mb-6">OR</div>

      <!-- Student Criteria -->
      <section class="border border-solid border-[#5F5F5E] stroke-[0.125] bg-[#1B1B1A] p-4 space-y-3">
        <h2 class="'text-sm text-gray-400 tracking-wide px-2 inline-block'">Student Criteria</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3">
          <a href="#" data-filter data-key="NAAB" data-value="S1"
            class="flex items-center justify-center text-center bg-[#e5e7eb] text-slate-900 font-semibold rounded px-4 py-4 min-h-[90px] hover:bg-[#facc15] transition">HEALTH,
            SAFETY, AND WELFARE IN THE BUILT ENVIRONMENT</a>
          <a href="#" data-filter data-key="NAAB" data-value="S2"
            class="flex items-center justify-center text-center bg-[#e5e7eb] text-slate-900 font-semibold rounded px-4 py-4 min-h-[90px] hover:bg-[#facc15] transition">PROFESSIONAL
            PRACTICE</a>
          <a href="#" data-filter data-key="NAAB" data-value="S3"
            class="flex items-center justify-center text-center bg-[#e5e7eb] text-slate-900 font-semibold rounded px-4 py-4 min-h-[90px] hover:bg-[#facc15] transition">REGULATORY
            CONTEXT</a>
          <a href="#" data-filter data-key="NAAB" data-value="S4"
            class="flex items-center justify-center text-center bg-[#e5e7eb] text-slate-900 font-semibold rounded px-4 py-4 min-h-[90px] hover:bg-[#facc15] transition">TECHNICAL
            KNOWLEDGE</a>
          <a href="#" data-filter data-key="NAAB" data-value="S5"
            class="flex items-center justify-center text-center bg-[#e5e7eb] text-slate-900 font-semibold rounded px-4 py-4 min-h-[90px] hover:bg-[#facc15] transition">DESIGN
            SYNTHESIS</a>
          <a href="#" data-filter data-key="NAAB" data-value="S6"
            class="flex items-center justify-center text-center bg-[#e5e7eb] text-slate-900 font-semibold rounded px-4 py-4 min-h-[90px] hover:bg-[#facc15] transition">BUILDING
            INTEGRATION</a>
        </div>
      </section>

    </div>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const slot = document.querySelector('[data-role-label]');
      if (!slot) return;

      // Prefer the helper from filterState.js; fall back to raw localStorage.
      const state = (window.LicensureFilters?.get?.() ??
        JSON.parse(localStorage.getItem('licensureFilters') || '{}')) || {};
      const rawRole = state.role || state.Role || state.ROLE;
      const labelMap = { Student: 'Student', Instructor: 'Instructor', Admin: 'Administrator' };

      // Only show when NAAB is the first page after index (i.e., Admin flow)
      if (String(rawRole).toLowerCase() === 'admin') {
        slot.textContent = `${labelMap[rawRole]}, `;
        slot.hidden = false;
      } else {
        slot.hidden = true;
      }
    });
  </script>

<script>
// Mobile-safe 'activate' helper (pointerup + click), de-duped like tasks.html
function onActivate(el, handler) {
  if (!el) return;
  let armed = true;
  const fire = (ev) => { if (!armed) return; armed = false; try { handler(ev); } finally { setTimeout(() => armed = true, 220); } };
  el.addEventListener('pointerup', fire, { passive: true });
  el.addEventListener('click', fire);
}

// Storage helpers (mirror tasks.html behavior)
const STORAGE_KEY = 'licensureFilters';
function lsRead(){ try { return JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}'); } catch { return {}; } }
function lsWrite(o){ localStorage.setItem(STORAGE_KEY, JSON.stringify(o || {})); }
function filtersGet(){
  const api = (window.LicensureFilters?.get ? window.LicensureFilters.get() : {}) || {};
  const ls = lsRead();
  return Object.assign({}, api, ls); // ls overrides same keys
}
function filtersSet(next){
  try { window.LicensureFilters?.set && window.LicensureFilters.set(next); } catch {}
  lsWrite(next);
  document.dispatchEvent(new CustomEvent('filters:change'));
}

function wireTopBar(){
  onActivate(document.getElementById('backBtn'), () => {
    if (history.length > 1) history.back(); else window.location.href = 'index.html';
  });

  onActivate(document.getElementById('restartBtn'), () => {
    // Clear all selection state and return to the start
    filtersSet({});
    localStorage.removeItem('selectedRole');
    window.location.href = 'index.html';
  });
}

// Boot safely after DOM is ready
if (document.readyState === 'loading'){
  document.addEventListener('DOMContentLoaded', wireTopBar, { once: true });
} else {
  wireTopBar();
}
</script>


</body>

</html>